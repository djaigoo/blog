---
author: djaigo
title: 操作系统面试问题
categories:
  - linux
date: 2025-05-14 10:46:22
tags:
---

# 1. 进程和线程的区别

## 进程
- 进程是资源分配的基本单位
- 进程拥有独立的地址空间
- 进程间通信需要特殊的机制（如管道、消息队列等）
- 进程切换开销大

## 线程
- 线程是CPU调度的基本单位
- 线程共享进程的资源
- 线程间通信可以直接通过共享内存
- 线程切换开销小

# 2. 进程间通信（IPC）的方式

1. 管道（Pipe）
   - 半双工通信
   - 只能用于有亲缘关系的进程
   - 单向流动

2. 命名管道（FIFO）
   - 可以在无关进程间通信
   - 有文件名，可以持久化

3. 消息队列
   - 消息的链表
   - 可以双向通信
   - 支持消息类型

4. 共享内存
   - 最快的IPC方式
   - 需要同步机制
   - 多个进程映射同一块物理内存

5. 信号量
   - 用于进程间同步
   - 可以解决互斥和同步问题

6. Socket
   - 可用于不同主机间的进程通信
   - 支持TCP/IP协议

# 3. 死锁的条件和预防

## 死锁的四个必要条件
1. 互斥条件
2. 请求与保持条件
3. 不剥夺条件
4. 循环等待条件

## 死锁预防
1. 破坏互斥条件
2. 破坏请求与保持条件
3. 破坏不剥夺条件
4. 破坏循环等待条件

# 4. 页面置换算法

1. 最佳置换算法（OPT）
   - 理论最优
   - 无法实现

2. 先进先出（FIFO）
   - 简单
   - 性能一般

3. 最近最少使用（LRU）
   - 性能好
   - 实现复杂

4. 时钟置换算法（Clock）
   - LRU的近似实现
   - 性能较好

# 5. 进程调度算法

1. 先来先服务（FCFS）
2. 短作业优先（SJF）
3. 优先级调度
4. 时间片轮转（RR）
5. 多级反馈队列

# 6. 虚拟内存

## 概念
- 将物理内存和磁盘空间结合使用
- 提供比实际物理内存更大的地址空间

## 优点
1. 扩大地址空间
2. 内存保护
3. 共享内存
4. 提高内存利用率

# 7. 文件系统

## 常见文件系统
1. FAT32
2. NTFS
3. ext4
4. xfs

## 文件系统功能
1. 文件存储
2. 目录管理
3. 文件保护
4. 磁盘空间管理

# 8. 中断和异常

## 中断
- 外部事件引起
- 异步发生
- 可屏蔽

## 异常
- 内部事件引起
- 同步发生
- 不可屏蔽

# 9. 同步机制

1. 互斥锁
2. 信号量
3. 条件变量
4. 读写锁
5. 自旋锁

# 10. 内存管理

## 内存分配方式
1. 连续分配
2. 分页
3. 分段
4. 段页式

## 内存保护
1. 地址越界检查
2. 访问权限控制
3. 内存映射


在 Shell 里，sed 是一个功能强大的流编辑器，可用于在文本行首和行尾添加字符串。下面分别介绍在行首、行尾添加字符串以及同时在行首和行尾添加字符串的方法。

在行首添加字符串
使用 sed 的 s 命令结合正则表达式 ^ 匹配行首，示例如下：


bash
# 示例文本
text="hello world"
echo "$text" | sed 's/^/prefix_/'

# 处理文件
# sed -i 's/^/prefix_/' your_file.txt
在上述代码中，s/^/prefix_/ 表示将每行的行首（^）替换为 prefix_。-i 选项用于直接修改文件内容。

在行尾添加字符串
使用 sed 的 s 命令结合正则表达式 $ 匹配行尾，示例如下：


bash
# 示例文本
text="hello world"
echo "$text" | sed 's/$/_suffix/'

# 处理文件
# sed -i 's/$/_suffix/' your_file.txt
这里，s/$/_suffix/ 表示将每行的行尾（$）替换为 _suffix。

同时在行首和行尾添加字符串
结合上述两种方法，可同时在行首和行尾添加字符串，示例如下：


bash
# 示例文本
text="hello world"
echo "$text" | sed 's/^/prefix_/; s/$/_suffix/'

# 处理文件
# sed -i 's/^/prefix_/; s/$/_suffix/' your_file.txt
在这个示例中，通过分号 ; 分隔两个 s 命令，分别在行首添加 prefix_，在行尾添加 _suffix。

注意事项
sed -i 选项会直接修改文件内容，请在操作前备份文件。
不同系统的 sed 可能存在差异，比如 macOS 系统的 sed 使用 -i 选项时需要指定备份文件后缀，如 sed -i '' 's/^/prefix_/' your_file.txt。

